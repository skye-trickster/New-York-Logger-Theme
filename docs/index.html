<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- My stylesheets -->
    <link rel="stylesheet" type="text/css" media="all" href="style.css" />
    <link rel="stylesheet" type="text/css" media="all" href="mobile.css" />
</head>

<body id="body">
    <div class="checkerboard-pattern"></div>
    <header id="heading">
        <div class="title-information">
            <div class="title-card">
                <img
                    src="https://64.media.tumblr.com/c1f36074eb776f7595ee56a596d9d868/0f0ce84b1430f979-16/s96x96u_c1/786aa230157816348b33c22f8ea2d45c6ebefbe0.pnj"
                    alt="Infinity Energy"
                />
                <h1 class="title">Infinity Energy</h1>
            </div>
            <div class="secondary-card"></div>
        </div>
        <div class="border"></div>
        <div class="secondary-information">
            <nav>
                <ul>
                    <li>
                        <a href="#">
                            <span class="material-symbols-outlined">home</span>
                            <span class="text">Home</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <span class="material-symbols-outlined">help</span>
                            <span class="text">Ask</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <span class="material-symbols-outlined">mail</span>
                            <span class="text">Submit</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <span class="material-symbols-outlined">archive</span>
                            <span class="text">Archive</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="status">
                Current Event: Deez Nuts. Gottem.
            </div>
        </div>
    </header>

    <div id="mobile-nav" class="mobile-nav">
        <nav>
            <ul>
                <li>
                    <a href="#">
                        <span class="material-symbols-outlined">home</span>
                        <span class="text">Home</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <span class="material-symbols-outlined">help</span>
                        <span class="text">Ask</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <span class="material-symbols-outlined">mail</span>
                        <span class="text">Submit</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <span class="material-symbols-outlined">archive</span>
                        <span class="text">Archive</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>

    <main id="main">
        <div class="main-wrapper">
            <div class="posts">
                <article>
                    <div class="pin-check">
                        <span class="material-symbols-outlined">keep</span>
                        <div class="not-hamburger">
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                    </div>
                    <div class="post">
                        <header class="post-heading">
                            <div class="post-info">
                                <div class="post-metadata">
                                    <div><a href=#>12 August 2024</a></div>
                                    <div class="reblogged-from"><span class="material-symbols-outlined">cached</span><a href=#>oflegendariesandtrainers</a></div>
                                </div>
                                <h1 class="post-title">TITLE STUFF</h1>
                                <div class="additional-info">
                                    <div class="notes-check">
                                        <div class="notes-count">4 notes</div>
                                        <div class="not-hamburger">
                                            <div></div>
                                            <div></div>
                                            <div></div>
                                        </div>
                                    </div>
                                    <div class="actions">
                                        <span class="material-symbols-outlined">favorite</span>
                                        <span class="material-symbols-outlined">cached</span>
                                        <button title="Hide tags" onclick="togglePostTags(event)" class="material-symbols-outlined tag-toggle">label</button>
                                    </div>
                                </div>
                            </div>
                        </header>
                        <div class="post-body">
                            <p>
                                Lorem ipsum odor amet, consectetuer adipiscing elit. Pulvinar nam ipsum lacinia nunc hac. Ultricies semper faucibus aptent dui scelerisque metus. Ad augue efficitur ad cursus cras enim pharetra non. Ridiculus magnis in maecenas massa himenaeos nam aenean iaculis. Nisl non arcu velit nostra aliquet augue ullamcorper lectus. Platea tristique
                                <a href="#">interdum</a>
                                at neque interdum, quis ad tristique sollicitudin. Arcu odio quam per, rhoncus fusce luctus adipiscing. Dui etiam aptent sagittis netus pellentesque.
                            </p>
                            <figure>
                                <a href="#">
                                    <img src="https://64.media.tumblr.com/00f88ae70312b2b0b1d7d1048f80d332/87108b6739758de1-f3/s1280x1920/f7154d00d6c87194ce6576bdb53f32ce09bba138.png" />
                                </a>
                            </figure>
                            <p>Pellentesque tincidunt integer cras dictumst pharetra nisl. Finibus ipsum habitant ut class rutrum nisi vitae. Sit turpis aliquet ut quam volutpat varius feugiat commodo. Vivamus pretium class at mollis montes elementum lorem. Urna donec elementum aliquet aliquam a lacus aliquam condimentum. Netus varius tincidunt facilisi ad consequat. Venenatis pretium fermentum malesuada magna tempor primis. Molestie justo dignissim fermentum per habitasse. Himenaeos tortor commodo duis egestas dui sociosqu aptent laoreet.</p>
                        </div>
                        <footer>
                            <ul class="tag-list">
                                <li class="tag"><a href="#">#tag 1</a></li>
                                <li class="tag"><a href="#">#tag 2</a></li>
                                <li class="tag"><a href="#">#tag 3</a></li>
                            </ul>
                        </footer>
                    </div>
                </article>
                <article class="post-image">
                    <div class="pin-check">
                        <span class="material-symbols-outlined">keep</span>
                        <div class="not-hamburger">
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                    </div>
                    <div class="post">
                        <header class="post-heading">
                            <div class="post-info">
                                <div class="post-metadata">
                                    <div><a href=#>12 August 2024</a></div>
                                    <div class="reblogged-from"><span class="material-symbols-outlined">cached</span><a href=#>oflegendariesandtrainers</a></div>
                                </div>
                                <div class="additional-info">
                                    <div class="notes-check">
                                        <div class="notes-count">4 notes</div>
                                        <div class="not-hamburger">
                                            <div></div>
                                            <div></div>
                                            <div></div>
                                        </div>
                                    </div>
                                    <div class="actions">
                                        <span class="material-symbols-outlined">favorite</span>
                                        <span class="material-symbols-outlined">cached</span>
                                        <button title="Show tags" onclick="togglePostTags(event)" class="material-symbols-outlined tag-toggle">label_off</button>
                                    </div>
                                </div>
                            </div>
                        </header>
                        <div class="media">
                            <figure>
                                <a href="#">
                                    <img src="https://64.media.tumblr.com/ac1b07dd5247ca190ad0455aba24fb04/5dd0322d3c261da2-d4/s1280x1920/194a406dea0ebbe9b53caec32ed72b7d98e67258.png" />
                                </a>
                            </figure>
                        </div>
                        <div class="post-body">
                            <p>
                                Lorem ipsum odor amet, consectetuer adipiscing elit. Pulvinar nam ipsum lacinia nunc hac. Ultricies semper faucibus aptent dui scelerisque metus. Ad augue efficitur ad cursus cras enim pharetra non. Ridiculus magnis in maecenas massa himenaeos nam aenean iaculis. Nisl non arcu velit nostra aliquet augue ullamcorper lectus. Platea tristique
                                <a href="#">interdum</a>
                                at neque interdum, quis ad tristique sollicitudin. Arcu odio quam per, rhoncus fusce luctus adipiscing. Dui etiam aptent sagittis netus pellentesque.
                            </p>
                            <figure>
                                <a href="#">
                                    <img src="https://64.media.tumblr.com/00f88ae70312b2b0b1d7d1048f80d332/87108b6739758de1-f3/s1280x1920/f7154d00d6c87194ce6576bdb53f32ce09bba138.png" />
                                </a>
                            </figure>
                            <p>Pellentesque tincidunt integer cras dictumst pharetra nisl. Finibus ipsum habitant ut class rutrum nisi vitae. Sit turpis aliquet ut quam volutpat varius feugiat commodo. Vivamus pretium class at mollis montes elementum lorem. Urna donec elementum aliquet aliquam a lacus aliquam condimentum. Netus varius tincidunt facilisi ad consequat. Venenatis pretium fermentum malesuada magna tempor primis. Molestie justo dignissim fermentum per habitasse. Himenaeos tortor commodo duis egestas dui sociosqu aptent laoreet.</p>
                        </div>
                        <footer class="hidden">
                            <ul class="tag-list">
                                <li class="tag"><a href="#">#tag 1</a></li>
                                <li class="tag"><a href="#">#tag 2</a></li>
                                <li class="tag"><a href="#">#tag 3</a></li>
                            </ul>
                        </footer>
                    </div>
                </article>
            </div>
        </div>
    </main>

    <aside id="side-panel">
        <div class="sidebar">
            <div class="additional-intro">
                <h2>Draco Meteor</h2>
                <div class="description">
                    <p>Independent, private, multimuse blog. Highly selective. Mutuals only.</p>
                    <br />
                    <p>Penned by Skye</p>
                </div>
            </div>
            <nav class="secondary-nav">
                <ul>
                    <li>
                        <a href="#">
                            <span class="material-symbols-outlined icon">person</span>
                            <span class="text">Muses</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <span class="material-symbols-outlined icon">menu_book</span>
                            <span class="text">Rules</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <span class="material-symbols-outlined icon">globe</span>
                            <span class="text">World</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="popular-tags">
                <div title="Hide tags" onclick="toggleTagDisplay(event)" class="tag-title">
                    <span class="material-symbols-outlined icon">collapse_content</span>
                    <h2 class="title-text">Primary Muses</h2>
                </div>
                <div class="tag-list">
                    <ul>
                        <li><a href="#">muse leaf</a></li>
                        <li><a href="#">muse zinnia</a></li>
                        <li><a href="#">muse rayquaza</a></li>
                        <li><a href="#">muse heidi</a></li>
                        <li><a href="#">muse lauren</a></li>
                        <li><a href="#">muse lati</a></li>
                        <li><a href="#">muse melony</a></li>
                        <li><a href="#">muse hilda</a></li>
                        <li><a href="#">muse serena</a></li>
                        <li><a href="#">muse nergal</a></li>
                    </ul>
                </div>
            </div>
            <nav class="secondary-nav">
                <ul>
                    <li>
                        <a href="#">
                            <span class="material-symbols-outlined icon">dictionary</span>
                            <span class="text">Wiki (Kanka Campaign)</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <span class="material-symbols-outlined icon">library_books</span>
                            <span class="text">Tracked Threads</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </aside>
    <footer id="footer">
        <div class="search">
            <div class="search-box">
                <a href="#" class="material-symbols-outlined">search</a>
                <input class="search-text" type="text" name="q" placeholder="Search" />
            </div>
        </div>
        <div class="pagination">
            <a href="#" class="material-symbols-outlined">keyboard_double_arrow_left</a>
            <span>Page 1</span>
            <a href="#" class="material-symbols-outlined">keyboard_double_arrow_right</a>
        </div>
        <div class="actions">
            <div class="action">
                <span>Mobile Rendering</span>
                <button id="mobile_button" onclick="toggleMobileRendering(event)" title="Enable mobile rendering" class="toggle material-symbols-outlined">check_box_outline_blank</button>
            </div>
            <div class="action">
                <span>Sticky Header</span>
                <button onclick="toggleStickyHeader(event)" title="Disable sticky header" class="toggle material-symbols-outlined">check_box</button>
            </div>
            <div class="action">
                <span>Animations</span>
                <button onclick="toggleAnimations(event)" title="Disable Animations" class="toggle material-symbols-outlined">check_box</button>
            </div>
            <a href="#" class="material-symbols-outlined">code</a>
        </div>
    </footer>
    <script>
        // TODO(Skye): translate this into jquery
        const header = document.getElementById("heading");
        const footer = document.getElementById("footer");
        let stickyHeader = true;
        function setTopSpacing() {
            if (document.getElementById('body').classList.contains('mobile')) return;
            const height = header.offsetHeight;
            const main = document.getElementById("main");
            main.style.paddingTop = `${height}px`;
            
            const aside = document.getElementById("side-panel");
            aside.style.top = `${height}px`;

            // TODO(Skye): have a toggle for whether or not the post heading is sticky
            const posts = document.getElementsByClassName("post-heading");
            for (let post of posts) {
                if (stickyHeader) {
                    post.style.position = "sticky";
                    post.style.top = `${height}px`;
                }
            }
        }

        function toggleStickyHeader(event) {
            stickyHeader = !stickyHeader
            if (stickyHeader) {
                setTopSpacing();
                event.target.innerText = "check_box";
                event.target.title = "Disable sticky header";
            } else {
                const postHeadings = document.getElementsByClassName('post-heading');
                for (let heading of postHeadings) {
                    heading.style.position = "initial";
                }
                event.target.innerText = "check_box_outline_blank";
                event.target.title = "Enable sticky header";
            }
        }

        function setBottomSpacing() {
            const height = footer.offsetHeight;
            const main = document.getElementById("main");
            main.style.paddingBottom = `${height}px`;

            const aside = document.getElementById("side-panel");
            aside.style.bottom = `${height}px`;
        }

        new ResizeObserver(setTopSpacing).observe(header);
        new ResizeObserver(setBottomSpacing).observe(footer);
    </script>

    <script>
        let animations = true;
        var id = null;
        var elem = document.getElementsByClassName("checkerboard-pattern")[0];
        var pos = 0;
        clearInterval(id);

        if (animations) {
            id = setInterval(frame, 20);
        }
        
        function frame() {
            pos = ((pos - 1) + 50) % 50;
            let horizontal_gradient = `repeating-linear-gradient(transparent, transparent ${pos}px, #841808 ${pos}px, #841808 ${pos+2}px, transparent ${pos+2}px, transparent 50px)`;
            let vertical_gradient = `repeating-linear-gradient(90deg, transparent, transparent ${pos}px, #841808 ${pos}px, #841808 ${pos+2}px, transparent ${pos+2}px, transparent 50px)`;
            if (pos === 49) {
                horizontal_gradient = `repeating-linear-gradient(#841808, #841808 1px, transparent 1px, transparent 49px, #841808 49px, #841808 50px)`;
                vertical_gradient = `repeating-linear-gradient(90deg, #841808, #841808 1px, transparent 1px, transparent 49px, #841808 49px, #841808 50px)`;
            }
            horizontal_gradient = `repeating-linear-gradient(transparent, transparent 24px, #841808 24px, #841808 26px, transparent 26px, transparent 50px)`
            elem.style.background = `${horizontal_gradient}, ${vertical_gradient}`;
        }

        function toggleAnimations(event) {
            animations = !animations;

            if(animations) {
                id = setInterval(frame, 20);
                event.target.innerText = "check_box";
                event.target.title = "Disable Animations";
            } else {
                clearInterval(id);
                event.target.innerText = "check_box_outline_blank";
                event.target.title = "Enable Animations";
            }
        }

        function toggleTagDisplay(event) {
            const getTitle = () => {
                const target = event.target;

                if (target.classList.contains('tag-title')) {
                    return target;
                }
                return target.closest('.tag-title');
            }

            const title = getTitle();
            const icon = title.querySelector('.icon');
            const popularTags = title.closest('.popular-tags');
            const tags = popularTags.querySelector('.tag-list');

            if (tags.classList.contains('hidden')) {
                tags.classList.remove('hidden');
                icon.innerText = 'collapse_content';
                title.title = "Hide tags";
            } else {
                tags.classList.add('hidden');
                icon.innerText = 'expand_content';
                title.title = "Show tags";
            }
        }

        function togglePostTags(event) {
            const button = event.target;
            const article = button.closest('article');
            const footer = article.querySelector('footer');

            if (footer.classList.contains('hidden')) {
                footer.classList.remove('hidden');
                button.innerText = 'label';
                button.title = 'Hide tags';
            } else {
                footer.classList.add('hidden');
                button.innerText = 'label_off';
                button.title = 'Show tags';
            }
        }
    </script>

    <script>
        // TODO (skye): remove this
        // mobile rendering
        function setMobileRendering(render) {
            const target = document.getElementById('mobile_button')
            const body = document.getElementById('body');
            const mobileRendering = body.classList.contains('mobile');
            if (render) {
                body.classList.add('mobile');
                target.innerText = "check_box";
                target.title = "Disable Mobile Rendering";
                const main = document.getElementById('main');
                main.style.removeProperty('padding-top');
                const headers = document.getElementsByClassName("post-heading");
                for (const header of headers) {
                    header.style.removeProperty("position");
                }
            } else {
                body.classList.remove('mobile');
                target.innerText = "check_box_outline_blank";
                target.title = "Enable Mobile Rendering";
                setTopSpacing();
            }
        }

        setMobileRendering(false);

        // mobile rendering
        function toggleMobileRendering(event) {
            const mobileRendering = body.classList.contains('mobile');
            setMobileRendering(!mobileRendering);
        }
    </script>

    <script>

    </script>
</body>
</html>